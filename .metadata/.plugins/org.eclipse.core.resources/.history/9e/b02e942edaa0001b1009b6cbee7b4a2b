package org.soft.service;

import java.util.Scanner;

import org.soft.vo.Student;

public class StudentManager {
	//创建学生类型数组
	Student stu[]=new Student[20];
	//建立一个数组用于标记学生数组中的存储情况
	int[] tab=new int[20];
	//插入方法
	public void insertStu(){
		//创建学生对象
		Student student=new Student();
		Scanner sc1=new Scanner(System.in);
		System.out.print("学号：");
		//输入学号
		student.setID(sc1.nextInt());
		Scanner sc2=new Scanner(System.in);
		System.out.print("姓名：");
		//输入姓名
		student.setName(sc2.nextLine());
		System.out.print("出生日期：");
		Scanner sc3=new Scanner(System.in);
		//输入出生日期
		student.setBirDate(sc3.nextLine());
		System.out.print("性别（是否是男性：true或false）：");
		Scanner sc4=new Scanner(System.in);
		//输入性别（是否是男性：true\false）
		student.setGender(sc4.nextBoolean());
		//标记数组中有多少个数据
		int x=0;
		//检查学生数组的存储情况
		for(int i=0;i<20;i++){
			//当当前数组元素为1时，表示对应的学生数组元素存有学生对象
			if(tab[i]==1){
				x+=1;
				//当tab数组所有元素均为“1”，表名stu数组已经存满
				if(x==20){
					System.out.println("抱歉，存储空间已满！");
				}
			}else{
				//将添加的学生对象插入学生数组中
				stu[i]=student;
				//将对应的数组标志置为“1”
				tab[i]=1;
				break;
			}
		}
		//提示插入数据成功
		System.out.println("插入信息成功！");
		//对stu数组中所有学生对象按照学号递增排序（冒泡排序）
		for(int j=0;j<x-1;j++){
			for(int k=0;k<x-1-j;k++){
				if(stu[j].getID()>stu[j+1].getID()){
					Student s=new Student();
					s=stu[j];
					stu[j]=stu[j+1];
					stu[j+1]=s;
				}
			}
		}
		return;
	}
	
	
	//查找方法
	public void searchStu(){
		System.out.println("请输入所需查找信息的姓名：");
		Scanner sc2=new Scanner(System.in);
		String na=sc2.nextLine();
		for(int i=0;i<20;i++){
			if(na.equals(stu[i].getName())){
				System.out.println(stu[i].getID()+"\t"+stu[i].getName()+"\t"+stu[i].getBirDate()+"\t"+stu[i].isGender());
				return;
			}
		}
		System.out.println("抱歉，未找到！");
		return;
	}
	
	
	//删除方法
	public void deleteStu(){
		System.out.println("请输入所要删除信息的姓名：");
		Scanner sc3=new Scanner(System.in);
		String na=sc3.nextLine();
		for(int i=0;i<20;i++){
			if(na.equals(stu[i].getName())){
				
				
				
				
				return;
			}
		}
		System.out.println("抱歉，未找到！");
		return;
	}
	
	
	//输出方法
	public void outputStu(){
		System.out.println("学号\t姓名\t出生年月\t性别是否为男");
		for(int i=0;i<20;i++){
			System.out.println(stu[i].getID()+"\t"+stu[i].getName()+"\t"+stu[i].getBirDate()+"\t"+stu[i].isGender());
		}
		return;
	}
	
	
	//退出方法
	public void exitSystem(){
		//退出程序
		System.exit(0);
	}
	
	
	//修改方法
	public void alterStu(){
		System.out.println("请输入所要修改信息的姓名：");
		Scanner sc4=new Scanner(System.in);
		String na=sc4.nextLine();
		for(int i=0;i<20;i++){
			if(na.equals(stu[i].getName())){
				Scanner sc5=new Scanner(System.in);
				System.out.print("学号：");
				//修改学号
				stu[i].setID(sc5.nextInt());
				System.out.print("姓名：");
				//修改姓名
				stu[i].setName(sc5.nextLine());
				System.out.print("出生日期：");
				//修改出生日期
				stu[i].setBirDate(sc5.nextLine());
				System.out.print("性别（是否为男性：true\false）：");
				//修改性别（是否是男性：true\false）
				stu[i].setGender(sc5.nextBoolean());
				System.out.print("修改成功！");
				return;
			}
		}
		System.out.println("抱歉，未找到！");
		return;
	}
	
	//控制程序流程的方法
	public  void StudentManageApp(){
		int k;
		do{
			System.out.println("请选择操作：");
			System.out.println("******************************************");
			System.out.println("*                 1 插入                                    *");
			System.out.println("*                 2 查找                                    *");
			System.out.println("*                 3 删除                                    *");
			System.out.println("*                 4 修改                                    *");
			System.out.println("*                 5 输出                                    *");
			System.out.println("*                 6 退出                                    *");
			System.out.println("******************************************");
			Scanner sc=new Scanner(System.in);
			//输入选择的操作序号
			k=sc.nextInt();
			StudentManager sm=new StudentManager();
			if(k==1){
				//调用插入方法
				sm.insertStu();
			}else if(k==2){
				//调用查找方法
				sm.searchStu();
			}else if(k==3){
				//调用删除方法
				sm.deleteStu();
			}else if(k==4){
				//调用修改方法
				sm.alterStu();
			}else if(k==5){
				//调用输出方法
				sm.outputStu();
			}else if(k==6){
				//调用程序退出方法
				sm.exitSystem();
			}
		}while(k!=6);//当执行完相应操作或者输入错误的操作序号，重复执行“菜单”
	}
}
